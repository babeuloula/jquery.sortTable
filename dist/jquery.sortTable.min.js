!function(t){t.fn.sortTable=function(a){var s={sort:[],"default":{index:0,sort:"asc"},icons:{asc:"glyphicon glyphicon-sort-by-attributes",desc:"glyphicon glyphicon-sort-by-attributes-alt",none:"glyphicon glyphicon-sort",color:"#909090"},tooltip:!0};s=t.extend(s,a);var o=t(this),n=function(){var a=t(this);o.find("span.sortTable-icons").removeClass(s.icons.asc+" sortTable-active "+s.icons.desc).addClass(s.icons.none);var n=a.find("span.sortTable-icons");"asc"===n.attr("data-sort")?n.addClass(s.icons.desc).addClass("sortTable-active").attr("data-sort","desc"):n.addClass(s.icons.asc).addClass("sortTable-active").attr("data-sort","asc"),i()},i=function(a){var s=o.find("span.sortTable-active"),n=0;o.find("th").each(function(a,s){1===t(s).find("span.sortTable-active").length&&(n=a)});var i=s.attr("data-sort"),e={};o.find("tbody").find("tr").each(function(a,s){var o=t.trim(t(t(s).find("td")[n]).text());e[o]=t(s)});var r=Object.keys(e),d=r.length;r.sort(function(a,s){return t.isNumeric(a)&&t.isNumeric(s)?a-s:a.localeCompare(s)}),"desc"===i&&r.reverse();for(var c=[],l=0;d>l;l++){var f=r[l];c.push(e[f])}o.find("tbody").html(""),t.each(c,function(t,a){o.find("tbody").append(a)}),void 0!==a&&a()};return t.each(s.sort,function(a,i){var e=s["default"].index===i?t("<span/>").addClass("sortTable-active").addClass("asc"===s["default"].sort?s.icons.asc:s.icons.desc).attr("data-sort","asc"===s["default"].sort?"asc":"desc"):t("<span/>").addClass(s.icons.none).attr("data-sort","none");e.addClass("sortTable-icons pull-right").css({color:s.icons.color}),t(o.find("thead").find("th")[i]).css({cursor:"pointer"}).append(e).on("click",n),s.tooltip&&t(o.find("thead").find("th")[i]).html(t("<div/>").attr("data-toggle","tooltip").attr("data-placement","top").attr("title","Trier par : "+t.trim(t(o.find("thead").find("th")[i]).text())).html(t(o.find("thead").find("th")[i]).html()))}),i(),s.tooltip&&t('[data-toggle="tooltip"]').tooltip(),{refresh:i}}}(jQuery);
