!function(t){t.fn.sortTable=function(a){var s={sort:[],"default":{index:0,sort:"asc"},icons:{asc:"glyphicon glyphicon-sort-by-attributes",desc:"glyphicon glyphicon-sort-by-attributes-alt",none:"glyphicon glyphicon-sort",color:"#909090"},tooltip:!0,refreshCallback:function(t){}};s=t.extend(s,a);var o=t(this),n=function(){var a=t(this);o.find("span.sortTable-icons").removeClass(s.icons.asc+" sortTable-active "+s.icons.desc).addClass(s.icons.none);var n=a.find("span.sortTable-icons");"asc"===n.attr("data-sort")?n.addClass(s.icons.desc).addClass("sortTable-active").attr("data-sort","desc"):n.addClass(s.icons.asc).addClass("sortTable-active").attr("data-sort","asc"),i()},i=function(a){var n=o.find("span.sortTable-active"),i=0;o.find("th").each(function(a,s){1===t(s).find("span.sortTable-active").length&&(i=a)});var r=n.attr("data-sort"),e={};o.find("tbody").find("tr").each(function(a,s){var o=t.trim(t(t(s).find("td")[i]).text());void 0!==e[o]&&(o=o+" "+Math.random()),e[o]=t(s)});var d=Object.keys(e),c=d.length;d.sort(function(a,s){return t.isNumeric(a)&&t.isNumeric(s)?a-s:a.localeCompare(s)}),"desc"===r&&d.reverse();for(var l=[],f=0;c>f;f++){var h=d[f];l.push(e[h])}o.find("tbody").html(""),t.each(l,function(t,a){o.find("tbody").append(a)}),s.refreshCallback(o),void 0!==a&&a(o)};return t.each(s.sort,function(a,i){var r=s["default"].index===i?t("<span/>").addClass("sortTable-active").addClass("asc"===s["default"].sort?s.icons.asc:s.icons.desc).attr("data-sort","asc"===s["default"].sort?"asc":"desc"):t("<span/>").addClass(s.icons.none).attr("data-sort","none");r.addClass("sortTable-icons pull-right").css({color:s.icons.color}),t(o.find("thead").find("th")[i]).css({cursor:"pointer"}).append(r).on("click",n),s.tooltip&&t(o.find("thead").find("th")[i]).html(t("<div/>").attr("data-toggle","tooltip").attr("data-placement","top").attr("title","Trier par : "+t.trim(t(o.find("thead").find("th")[i]).text())).html(t(o.find("thead").find("th")[i]).html()))}),i(),s.tooltip&&t('[data-toggle="tooltip"]').tooltip(),{refresh:i}}}(jQuery);
